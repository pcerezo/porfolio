<section id="projects">
    <h2 class="mt-5">Mis proyectos</h2>
    <div class="card-group">
        @for (project of projects; track $index) {
            <div class="card">
                @if (getImagenPortada(project) == undefined) {
                    <img src="assets/projects/default.jpg" class="card-img-top imagen-portada" alt="default image">
                }
                @else {
                    <img src="{{getImagenPortada(project).image_url}}" class="card-img-top imagen-portada" alt="{{getImagenPortada(project).alt_text}}">
                }
                <div class="card-body">
                    <h5 class="card-title">{{ project.title }}</h5>
                    <p class="card-text">{{ project.short_description }}</p>
                    <p class="card-text"><small 
                        [class]="{
                            'estado-en-analisis': project.status.toLowerCase().includes('analisis'),
                            'estado-en-diseno': project.status.toLowerCase().includes('diseno'),
                            'estado-en-desarrollo': project.status.toLowerCase().includes('desarrollo') && !project.status.toLowerCase().includes('avanzado'),
                            'estado-en-desarrollo-avanzado': project.status.toLowerCase().includes('desarrollo avanzado'),
                            'estado-en-pruebas': project.status.toLowerCase().includes('pruebas'),
                            'estado-en-entrega': project.status.toLowerCase().includes('entrega'),
                            'estado-finalizado': project.status.toLowerCase().includes('finalizado')
                        }"
                        >
                        {{project.status}}
                        </small>
                    </p>
                    @if (project.end_date) {
                        <p class="card-text"><small class="text-muted">{{project.end_date | date }}</small></p>
                    }
                    <a class="btn btn-secondary" routerLink="/proyecto/{{project._id}}">MÃ¡s info</a>
                </div>
            </div>
        }
    </div>
</section>